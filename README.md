# MMDect - å¤šæ¨¡æ€æ— äººæœºé›†ç¾¤äººæœºäº¤äº’ç³»ç»Ÿ

åŸºäºROS/Gazeboçš„å¤šæ¨¡æ€æŒ‡ä»¤è¯†åˆ«ä¸æ— äººæœºé›†ç¾¤æ§åˆ¶ç³»ç»Ÿ

[![Version](https://img.shields.io/badge/version-1.0-blue.svg)](https://github.com/)
[![Python](https://img.shields.io/badge/python-3.8+-green.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/license-MIT-orange.svg)](LICENSE)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ï¼ˆ5åˆ†é’Ÿï¼‰

```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. ä¸‹è½½æ¨¡å‹ï¼ˆå¯é€‰ï¼Œé¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ä¸‹è½½ï¼‰
bash scripts/download_models.sh

# 3. æµ‹è¯•æ‘„åƒå¤´
python tools/test_camera.py

# 4. æµ‹è¯•æ‰‹åŠ¿è¯†åˆ«
python src/detectors/gesture_detector.py

# 5. æµ‹è¯•é«˜çº§å¯è§†åŒ–ï¼ˆå¸¦æŒ‡å°–è½¨è¿¹ï¼‰
python test_gesture_advanced.py

# 6. å¯åŠ¨å®Œæ•´ç³»ç»Ÿ
python src/main.py --enable-all --unified-viewer
```

---

## âœ¨ ç³»ç»Ÿç‰¹æ€§

### å››ç§è¾“å…¥æ¨¡æ€

| æ¨¡æ€ | æ¨¡å‹ | å¤§å° | å»¶è¿Ÿ | è¯´æ˜ |
|-----|------|------|------|------|
| ğŸ¤ **è¯­éŸ³** | Vosk | ~40MB | <100ms | ä¸­æ–‡å…³é”®è¯è¯†åˆ« |
| âœ‹ **æ‰‹åŠ¿** | MediaPipe | ~2MB | ~33ms | 21ç‚¹æ‰‹éƒ¨è·Ÿè¸ªï¼Œ5ç§æ‰‹åŠ¿ |
| ğŸ“· **å›¾åƒ** | YOLOv8-nano | ~6MB | ~40ms | ç¬¦å·æ ‡è®°+ç›®æ ‡æ£€æµ‹ |
| ğŸ–±ï¸ **é¼ æ ‡** | RDPç®—æ³• | - | <10ms | è·¯å¾„è§„åˆ’ |

### æ”¯æŒçš„æŒ‡ä»¤

- âœˆï¸ **èµ·é£** (Takeoff) - è¯­éŸ³"èµ·é£" / å¼ å¼€æ‰‹æŒ(5æŒ‡) / ç¬¦å·T
- ğŸ›¬ **é™è½** (Land) - è¯­éŸ³"é™è½" / æ¡æ‹³(0æŒ‡) / ç¬¦å·H
- â¸ï¸ **æ‚¬åœ** (Hover) - è¯­éŸ³"æ‚¬åœ" / å•æŒ‡ / ç¬¦å·L
- ğŸ” **æ¢ç´¢** (Explore) - è¯­éŸ³"æ¢ç´¢" / Væ‰‹åŠ¿(2æŒ‡) / ç¬¦å·S
- ğŸ¯ **ç¼–é˜Ÿ** (Formation) - è¯­éŸ³"ç¼–é˜Ÿ" / ä¸‰æŒ‡ / ç¬¦å·F
- ğŸ“ **èˆªç‚¹** (Waypoint) - é¼ æ ‡ç»˜åˆ¶è·¯å¾„
- ğŸš¨ **ç´§æ€¥åœæ­¢** (Emergency Stop) - è¯­éŸ³"ç´§æ€¥åœæ­¢"

---

## ğŸ“– å®Œæ•´æ–‡æ¡£

**â¡ï¸ [DOCUMENTATION.md](DOCUMENTATION.md) - ç»Ÿä¸€å®Œæ•´æ–‡æ¡£**

åŒ…å«ä»¥ä¸‹æ‰€æœ‰å†…å®¹ï¼š
1. é¡¹ç›®æ¦‚è¿°
2. å¿«é€Ÿå¼€å§‹
3. å®‰è£…æŒ‡å—
4. ä½¿ç”¨æ‰‹å†Œ
5. ç³»ç»Ÿæ¶æ„
6. æ£€æµ‹å™¨è¯¦è§£
7. é…ç½®è¯´æ˜
8. æ•…éšœæ’é™¤
9. å¼€å‘æŒ‡å—
10. æ€§èƒ½æŒ‡æ ‡
11. é¡¹ç›®çŠ¶æ€

---

## ğŸ¯ æ ¸å¿ƒäº®ç‚¹

### ç»Ÿä¸€æ¶æ„
æ‰€æœ‰æ£€æµ‹å™¨ç»§æ‰¿`BaseDetector`åŸºç±»ï¼Œä¿è¯æ¥å£ä¸€è‡´æ€§å’Œä»£ç å¤ç”¨ã€‚

### è½»é‡åŒ–æ¨¡å‹
æ€»æ¨¡å‹å¤§å° < 50MBï¼Œå¯è¿è¡Œåœ¨è¾¹ç¼˜è®¾å¤‡å’Œç¬”è®°æœ¬ç”µè„‘ã€‚

### å®æ—¶æ€§èƒ½
ç«¯åˆ°ç«¯å»¶è¿Ÿ < 200msï¼Œæ»¡è¶³å®æ—¶æ§åˆ¶éœ€æ±‚ã€‚

### å¤šæ¨¡æ€èåˆ
4ç§èåˆç­–ç•¥ï¼ˆæœ€æ–°/ç½®ä¿¡åº¦/æŠ•ç¥¨/ä¼˜å…ˆçº§ï¼‰ï¼Œæ—¶é—´çª—å£èåˆï¼ˆ0.5ç§’ï¼‰ã€‚

### å³å¼€å³ç”¨
ç¬”è®°æœ¬æ‘„åƒå¤´å³å¯æµ‹è¯•ï¼Œæ— éœ€é¢å¤–ç¡¬ä»¶ã€‚

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
MMDect/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ detectors/              # 4ä¸ªæ£€æµ‹å™¨
â”‚   â”‚   â”œâ”€â”€ base_detector.py    # ç»Ÿä¸€åŸºç±» â­
â”‚   â”‚   â”œâ”€â”€ voice_detector.py   # è¯­éŸ³æ£€æµ‹
â”‚   â”‚   â”œâ”€â”€ gesture_detector.py # æ‰‹åŠ¿è¯†åˆ«
â”‚   â”‚   â”œâ”€â”€ image_detector.py   # å›¾åƒæ£€æµ‹
â”‚   â”‚   â””â”€â”€ mouse_detector.py   # é¼ æ ‡è·¯å¾„
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ command_manager.py  # å¤šæ¨¡æ€èåˆ â­
â”‚   â”‚   â””â”€â”€ camera_manager.py   # ç›¸æœºå…±äº«
â”‚   â”œâ”€â”€ visualization/
â”‚   â”‚   â””â”€â”€ unified_viewer.py   # ç»Ÿä¸€æŸ¥çœ‹å™¨
â”‚   â””â”€â”€ main.py                 # ä¸»ç¨‹åº â­
â”œâ”€â”€ models/                     # é¢„è®­ç»ƒæ¨¡å‹
â”œâ”€â”€ config/
â”‚   â””â”€â”€ detector_config.yaml    # é…ç½®æ–‡ä»¶ â­
â”œâ”€â”€ tools/                      # æµ‹è¯•å·¥å…·
â”œâ”€â”€ test_gesture_advanced.py    # é«˜çº§æ‰‹åŠ¿æµ‹è¯•
â”œâ”€â”€ requirements.txt            # Pythonä¾èµ–
â”œâ”€â”€ DOCUMENTATION.md            # å®Œæ•´æ–‡æ¡£ ğŸ“š
â””â”€â”€ README.md                   # æœ¬æ–‡ä»¶
```

---

## ğŸ› ï¸ å¿«é€Ÿå‘½ä»¤

### æµ‹è¯•å•ä¸ªæ£€æµ‹å™¨
```bash
python tools/test_camera.py              # æµ‹è¯•æ‘„åƒå¤´
python src/detectors/gesture_detector.py # æ‰‹åŠ¿è¯†åˆ«
python test_gesture_advanced.py          # é«˜çº§å¯è§†åŒ–ï¼ˆå¸¦è½¨è¿¹ï¼‰
python src/detectors/voice_detector.py   # è¯­éŸ³è¯†åˆ«
python src/detectors/image_detector.py   # å›¾åƒæ£€æµ‹
python src/detectors/mouse_detector.py   # é¼ æ ‡è·¯å¾„
```

### å®Œæ•´ç³»ç»Ÿ
```bash
# å¯ç”¨æ‰€æœ‰æ£€æµ‹å™¨ + ç»Ÿä¸€æŸ¥çœ‹å™¨
python src/main.py --enable-all --unified-viewer

# å¯ç”¨ç‰¹å®šç»„åˆ
python src/main.py --gesture --image --mouse

# è°ƒè¯•æ¨¡å¼
python src/main.py --enable-all --log-level DEBUG
```

### ç»Ÿä¸€æŸ¥çœ‹å™¨æŒ‰é”®
- `1` - æ‰‹åŠ¿æ£€æµ‹è§†å›¾
- `2` - å›¾åƒæ£€æµ‹è§†å›¾
- `3` - é¼ æ ‡è·¯å¾„è§†å›¾
- `4` - å››å®«æ ¼åˆ†å±
- `0` - æ¦‚è§ˆè§†å›¾
- `R` - é‡ç½®ç»Ÿè®¡
- `Q` - é€€å‡º

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ | çŠ¶æ€ |
|-----|------|------|
| ç«¯åˆ°ç«¯å»¶è¿Ÿ | < 150ms | âœ… |
| è¯­éŸ³è¯†åˆ«å‡†ç¡®ç‡ | ~85% | âœ… |
| æ‰‹åŠ¿è¯†åˆ«å‡†ç¡®ç‡ | ~95% | âœ… |
| å›¾åƒæ£€æµ‹å‡†ç¡®ç‡ | ~75% | âœ… |
| æ€»æ¨¡å‹å¤§å° | ~48MB | âœ… |
| CPUå ç”¨ | ~65% | âœ… |
| å†…å­˜å ç”¨ | ~950MB | âœ… |

*æµ‹è¯•ç¯å¢ƒï¼šIntel i5-8ä»£, 8GB RAM, ç¬”è®°æœ¬å‰ç½®æ‘„åƒå¤´*

---

## ğŸ”§ æ•…éšœæ’é™¤

### æ‘„åƒå¤´æ‰“ä¸å¼€
```bash
# æ£€æµ‹å¯ç”¨æ‘„åƒå¤´
python tools/test_camera.py --find

# å°è¯•ä¸åŒç´¢å¼•
python src/detectors/gesture_detector.py --camera 0
python src/detectors/gesture_detector.py --camera 1
```

### æ¨¡å‹æ–‡ä»¶æ‰¾ä¸åˆ°
```bash
# é‡æ–°ä¸‹è½½æ¨¡å‹
bash scripts/download_models.sh

# æ£€æŸ¥æ¨¡å‹æ–‡ä»¶
ls -lh models/
```

### æ‰‹åŠ¿è¯†åˆ«ä¸å‡†ç¡®
- ä¿æŒç®€å•èƒŒæ™¯
- ç¡®ä¿å…‰çº¿å……è¶³
- è·ç¦»æ‘„åƒå¤´ 30-60cm
- è°ƒæ•´é…ç½®æ–‡ä»¶ä¸­çš„ç½®ä¿¡åº¦é˜ˆå€¼

**æ›´å¤šé—®é¢˜ï¼Ÿ** æŸ¥çœ‹ [DOCUMENTATION.md](DOCUMENTATION.md) ç¬¬8ç« ï¼šæ•…éšœæ’é™¤

---

## ğŸ“ å­¦ä¹ è·¯å¾„

### ğŸƒ å¿«é€Ÿä¸Šæ‰‹ï¼ˆ30åˆ†é’Ÿï¼‰
1. é˜…è¯»æœ¬READMEï¼ˆ5åˆ†é’Ÿï¼‰
2. è¿è¡Œå¿«é€Ÿå¼€å§‹å‘½ä»¤ï¼ˆ15åˆ†é’Ÿï¼‰
3. æŸ¥çœ‹ [DOCUMENTATION.md](DOCUMENTATION.md) ç¬¬4ç« ï¼ˆ10åˆ†é’Ÿï¼‰

### ğŸ“š æ·±å…¥ç†è§£ï¼ˆ2å°æ—¶ï¼‰
1. é˜…è¯» [DOCUMENTATION.md](DOCUMENTATION.md) å®Œæ•´æ–‡æ¡£
2. æµè§ˆ `src/detectors/` æºä»£ç 
3. æµ‹è¯•å„ä¸ªæ£€æµ‹å™¨

### ğŸ”¨ è‡ªå®šä¹‰å¼€å‘ï¼ˆåŠå¤©ï¼‰
1. å®Œæˆ"æ·±å…¥ç†è§£"è·¯å¾„
2. æŸ¥çœ‹ [DOCUMENTATION.md](DOCUMENTATION.md) ç¬¬9ç« ï¼šå¼€å‘æŒ‡å—
3. è®­ç»ƒè‡ªå®šä¹‰æ¨¡å‹

---

## ğŸ“ˆ é¡¹ç›®çŠ¶æ€

**å½“å‰ç‰ˆæœ¬**: v1.0 Phase 1 âœ…

**å·²å®Œæˆ**ï¼š
- âœ… 4ä¸ªæ£€æµ‹å™¨å…¨éƒ¨å®ç°
- âœ… å¤šæ¨¡æ€èåˆç³»ç»Ÿ
- âœ… ç›¸æœºå…±äº«æœºåˆ¶
- âœ… ç»Ÿä¸€æŸ¥çœ‹å™¨
- âœ… å®Œæ•´æ–‡æ¡£

**å¾…å®ç°** (Phase 2)ï¼š
- â¸ï¸ ROS/Gazeboé›†æˆ
- â¸ï¸ MAVROS/PX4æ¥å£
- â¸ï¸ æ— äººæœºæ§åˆ¶å™¨
- â¸ï¸ Webå¯è§†åŒ–ç•Œé¢

---

## ğŸŒŸ å‚è€ƒé¡¹ç›®

- [RACER (HKUST/SYSU-STAR)](https://github.com/SYSU-STAR/RACER)
- [EGO-Planner-Swarm (ZJU FAST-Lab)](https://github.com/ZJU-FAST-Lab/ego-planner-swarm)
- [Fast-Planner (HKUST)](https://github.com/HKUST-Aerial-Robotics/Fast-Planner)

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

## ğŸ“ è·å–å¸®åŠ©

- ğŸ“– å®Œæ•´æ–‡æ¡£ï¼š[DOCUMENTATION.md](DOCUMENTATION.md)
- ğŸ› é—®é¢˜åé¦ˆï¼šguowei_ni@bit,edu.cn

---

**å¿«é€Ÿé“¾æ¥**ï¼š
- [å®Œæ•´æ–‡æ¡£](DOCUMENTATION.md)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹5åˆ†é’Ÿ)
- [æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤)
- [æ€§èƒ½æŒ‡æ ‡](#-æ€§èƒ½æŒ‡æ ‡)

**æœ€åæ›´æ–°**: 2025-11-06
